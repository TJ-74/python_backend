(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{285:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var r=t(5155),a=t(2115),n=t(4624),i=t(2085),d=t(9434);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:t,variant:a,size:i,asChild:c=!1,...o}=e,x=c?n.DX:"button";return(0,r.jsx)(x,{className:(0,d.cn)(l({variant:a,size:i,className:t})),ref:s,...o})});c.displayName="Button"},682:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(5155),a=t(2115),n=t(285),i=t(9946);let d=(0,i.A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),l=(0,i.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var c=t(1798);let o=0;function x(){let[e,s]=(0,a.useState)(""),[t,i]=(0,a.useState)(()=>[{id:"system-init",text:"Hello! I'm your healthcare assistant. How can I help you today?",sender:"system"}]),[x,h]=(0,a.useState)(!1),m=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[t]);let u=async t=>{if(t.preventDefault(),!e.trim()||x)return;h(!0);let r=e.trim();s(""),o++;let a={id:"msg-".concat(o),text:r,sender:"user"};i(e=>[...e,a]);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:r}]})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to get AI response")}let s=await e.json();o++;let t={id:"msg-".concat(o),text:s.message,sender:"ai"};i(e=>[...e,t])}catch(s){console.error("Error sending message:",s),o++;let e={id:"msg-".concat(o),text:"I apologize, but I'm having trouble connecting to the AI service right now. Please try again in a moment.",sender:"system"};i(s=>[...s,e])}finally{h(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,r.jsx)(c.A,{}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-4",children:(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg h-[calc(100vh-8rem)] flex flex-col",children:[(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===t.length?(0,r.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:(0,r.jsx)("p",{children:"Start a conversation by sending a message!"})}):t.map(e=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"max-w-[80%] rounded-lg px-4 py-2 flex items-start ".concat("user"===e.sender?"bg-blue-600 text-white":"bg-gray-700 text-white"),children:[("ai"===e.sender||"system"===e.sender)&&(0,r.jsx)(d,{className:"mr-2 mt-1",size:16}),(0,r.jsx)("p",{className:"system"===e.sender?"text-gray-200":"",children:e.text})]})},e.id)),(0,r.jsx)("div",{ref:m})]}),(0,r.jsx)("form",{onSubmit:u,className:"p-4 border-t border-gray-700",children:(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Type your message...",className:"flex-1 bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:x}),(0,r.jsx)(n.$,{type:"submit",disabled:x||!e.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center ".concat(x?"opacity-50 cursor-not-allowed":""),children:(0,r.jsx)(l,{size:20})})]})})]})})]})}},1798:(e,s,t)=>{"use strict";t.d(s,{A:()=>g});var r=t(5155),a=t(2115),n=t(4835),i=t(1007),d=t(4416),l=t(4783),c=t(285),o=t(2201),x=t(6203),h=t(5695),m=t(6874),u=t.n(m);let g=()=>{let[e,s]=(0,a.useState)(!1),[t,m]=(0,a.useState)(!1),g=(0,h.useRouter)();(0,a.useEffect)(()=>{let e=o.j2.onAuthStateChanged(e=>{m(!!e)});return()=>e()},[]);let p=async()=>{try{await (0,x.CI)(o.j2),g.push("/signin")}catch(e){console.error("Error signing out:",e)}};return(0,r.jsxs)("nav",{className:"bg-gray-800 border-b border-gray-700",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(u(),{href:"/",className:"text-white text-xl font-bold",children:"HealthSearch"})}),(0,r.jsx)("div",{className:"hidden md:block",children:(0,r.jsxs)("div",{className:"ml-10 flex items-center space-x-4",children:[(0,r.jsx)(u(),{href:"/",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Home"}),(0,r.jsx)(u(),{href:"/searchform",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Find Price"}),(0,r.jsx)(u(),{href:"/chat",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"AI Chat"})]})})]}),(0,r.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:t?(0,r.jsxs)(c.$,{className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700",onClick:p,children:[(0,r.jsx)(n.A,{size:16}),(0,r.jsx)("span",{children:"Logout"})]}):(0,r.jsxs)(c.$,{className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700",onClick:()=>g.push("/signin"),children:[(0,r.jsx)(i.A,{size:16}),(0,r.jsx)("span",{children:"Sign In"})]})}),(0,r.jsx)("div",{className:"md:hidden flex items-center",children:(0,r.jsx)(c.$,{variant:"ghost",size:"icon",className:"text-gray-300 hover:text-white",onClick:()=>{s(!e)},children:e?(0,r.jsx)(d.A,{size:24}):(0,r.jsx)(l.A,{size:24})})})]})}),e&&(0,r.jsxs)("div",{className:"md:hidden bg-gray-800 border-t border-gray-700",children:[(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[(0,r.jsx)(u(),{href:"/",className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"Home"}),(0,r.jsx)(u(),{href:"/searchform",className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"Find Price"}),(0,r.jsx)(u(),{href:"/chat",className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"AI Chat"})]}),(0,r.jsx)("div",{className:"px-4 py-3 border-t border-gray-700",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:t?(0,r.jsxs)(c.$,{className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700",onClick:p,children:[(0,r.jsx)(n.A,{size:16}),(0,r.jsx)("span",{children:"Logout"})]}):(0,r.jsxs)(c.$,{className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700",onClick:()=>g.push("/signin"),children:[(0,r.jsx)(i.A,{size:16}),(0,r.jsx)("span",{children:"Sign In"})]})})})]})]})}},2201:(e,s,t)=>{"use strict";t.d(s,{hJ:()=>o,j2:()=>c});var r=t(3915),a=t(6203),n=t(5317),i=t(858),d=t(6864);let l=(0,r.Wp)({apiKey:"AIzaSyDvmUub6rVp-n5g3jEZJenkVUXc2x6SZk0",authDomain:"boronatom-ai.firebaseapp.com",projectId:"boronatom-ai",storageBucket:"boronatom-ai.firebasestorage.app",messagingSenderId:"347981786413",appId:"1:347981786413:web:505266d882b01c1cb5f7a4",measurementId:"G-80GPT0N0QL"}),c=(0,a.xI)(l);(0,n.aU)(l),(0,i.c7)(l);let o=new a.HF;(0,d.TT)().then(e=>e&&(0,d.P5)(l))},4788:(e,s,t)=>{Promise.resolve().then(t.bind(t,682))},9434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(2596),a=t(9688);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,888,530,441,684,358],()=>s(4788)),_N_E=e.O()}]);